{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[253],{849:function(t,a,e){\"use strict\";e.r(a);var r=e(12),v=Object(r.a)({},(function(){var t=this,a=t._self._c;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[a(\"h2\",{attrs:{id:\"接入前提\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#接入前提\"}},[t._v(\"#\")]),t._v(\" 接入前提\")]),t._v(\" \"),a(\"p\",[t._v(\"需要接入下列其中一种模式，以便于完成支付和授权流程\\n\"),a(\"br\"),t._v(\" \"),a(\"a\",{attrs:{href:\"/pages/f90dfd/\",target:\"_blank\"}},[t._v(\"Hosted\")]),t._v(\" \"),a(\"br\"),t._v(\" \"),a(\"a\",{attrs:{href:\"/pages/6c7fd1/\",target:\"_blank\"}},[t._v(\"Non-hosted\")])]),t._v(\" \"),a(\"h2\",{attrs:{id:\"交互过程\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#交互过程\"}},[t._v(\"#\")]),t._v(\" 交互过程\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"持卡人授权事件交互流程\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#持卡人授权事件交互流程\"}},[t._v(\"#\")]),t._v(\" 持卡人授权事件交互流程\")]),t._v(\" \"),a(\"div\",[a(\"img\",{attrs:{src:t.$withBase(\"/v4/recurring/authorization.png\")}})]),t._v(\" \"),a(\"el-card\",{staticStyle:{background:\"none\",color:\"var(--textColor)\",\"border-color\":\"var(--borderColor)\"}},[a(\"div\",{attrs:{slot:\"header\"},slot:\"header\"},[a(\"h4\",[t._v(\"以下对授权事件步骤做简要说明\")])]),t._v(\" \"),a(\"ol\",[a(\"li\",[t._v(\"客户端向商户服务端发起订阅支付\")]),t._v(\" \"),a(\"li\",[t._v(\"商户服务端请求PingPongCheckout服务端，发起一笔标记为订阅支付的交易\")]),t._v(\" \"),a(\"li\",[t._v(\"\\nPingPongCheckout服务端 响应支付结果\\n\"),a(\"ul\",[a(\"li\",[t._v(\"支付成功:授权成功，后续可以发起计划扣款\")]),t._v(\" \"),a(\"li\",[t._v(\"支付失败：授权失败，不能发起计划扣款\")])])])])]),t._v(\" \"),a(\"h3\",{attrs:{id:\"计划扣款事件交互流程\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#计划扣款事件交互流程\"}},[t._v(\"#\")]),t._v(\" 计划扣款事件交互流程\")]),t._v(\" \"),a(\"div\",[a(\"img\",{attrs:{src:t.$withBase(\"/v4/recurring/plannedDeduction.png\")}})]),t._v(\" \"),a(\"el-card\",{staticStyle:{background:\"none\",color:\"var(--textColor)\",\"border-color\":\"var(--borderColor)\"}},[a(\"div\",{attrs:{slot:\"header\"},slot:\"header\"},[a(\"h4\",[t._v(\"以下对授权事件步骤做简要说明\")])]),t._v(\" \"),a(\"ol\",[a(\"li\",[t._v(\"商户服务端执行计划扣款\")]),t._v(\" \"),a(\"li\",[t._v(\"商户服务端请求PingPongCheckout服务端的\"),a(\"a\",{attrs:{href:\"/pages/a2c224/\",target:\"_blank\"}},[t._v(\"下单并支付\")]),t._v(\" API，发起一笔标记为订阅支付的交易,并带上发生授权时候的商户订单号\")]),t._v(\" \"),a(\"li\",[t._v(\"\\nPingPongCheckout服务端 响应支付结果\\n\")])])]),t._v(\" \"),a(\"h2\",{attrs:{id:\"api清单\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#api清单\"}},[t._v(\"#\")]),t._v(\" API清单\")]),t._v(\" \"),a(\"br\"),t._v(\" \"),a(\"div\",[a(\"a\",{attrs:{href:\"/pages/a2c224/\",target:\"_blank\"}},[t._v(\"下单并支付\")]),t._v(\" \"),a(\"br\"),t._v(\" \"),a(\"a\",{attrs:{href:\"/pages/d0ddb3/\",target:\"_blank\"}},[t._v(\"异步通知\")]),t._v(\" \"),a(\"br\")]),t._v(\" \"),a(\"h2\",{attrs:{id:\"服务端接入\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#服务端接入\"}},[t._v(\"#\")]),t._v(\" 服务端接入\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"持卡人授权\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#持卡人授权\"}},[t._v(\"#\")]),t._v(\" 持卡人授权\")]),t._v(\" \"),a(\"table\",[a(\"thead\",[a(\"tr\",[a(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"字段名称\")]),t._v(\" \"),a(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"类型\")]),t._v(\" \"),a(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"必填\")]),t._v(\" \"),a(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"描述\")])])]),t._v(\" \"),a(\"tbody\",[a(\"tr\",[a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"bizType\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"String(64)\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"M\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"Recurring交易标识，固定值\"),a(\"code\",[t._v(\"Recurring\")])])])])]),t._v(\" \"),a(\"p\",[t._v(\"在请求\"),a(\"a\",{attrs:{href:\"/pages/a2c224/\",target:\"_blank\"}},[t._v(\"下单并支付\")]),t._v(\" 时候新增参数\"),a(\"code\",[t._v(\"bizType\")]),t._v(\"=\"),a(\"code\",[t._v(\"Recurring\")]),t._v(\"，标记当前交易为recurring交易\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"计划扣款\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#计划扣款\"}},[t._v(\"#\")]),t._v(\" 计划扣款\")]),t._v(\" \"),a(\"table\",[a(\"thead\",[a(\"tr\",[a(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"字段名称\")]),t._v(\" \"),a(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"类型\")]),t._v(\" \"),a(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"必填\")]),t._v(\" \"),a(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"描述\")])])]),t._v(\" \"),a(\"tbody\",[a(\"tr\",[a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"primaryMerchantTransactionId\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"String(64)\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"M\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"首次成功下单时候异步通知中的merchantTransactionId\")])]),t._v(\" \"),a(\"tr\",[a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"bizType\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"String(64)\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"M\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"Recurring交易标识，固定值\"),a(\"code\",[t._v(\"Recurring\")])])]),t._v(\" \"),a(\"tr\",[a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"accessModel\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"String(64)\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"M\")]),t._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"指定为\"),a(\"code\",[t._v(\"Non-hosted\")])])])])]),t._v(\" \"),a(\"p\",[t._v(\"商户服务端请求\"),a(\"a\",{attrs:{href:\"/pages/a2c224/\",target:\"_blank\"}},[t._v(\"下单并支付\")]),t._v(\"，发起计划扣款\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"新增参数\"),a(\"code\",[t._v(\"bizType\")]),t._v(\"=\"),a(\"code\",[t._v(\"Recurring\")]),t._v(\"，标记当前交易为recurring交易\")]),t._v(\" \"),a(\"li\",[t._v(\"新增参数\"),a(\"code\",[t._v(\"primaryMerchantTransactionId\")]),t._v(\"，值为首次扣款时候的\"),a(\"code\",[t._v(\"merchantTransactionId\")])]),t._v(\" \"),a(\"li\",[t._v(\"参数\"),a(\"code\",[t._v(\"cardInfo\")]),t._v(\"由\"),a(\"code\",[t._v(\"primaryMerchantTransactionId\")]),t._v(\"代替，不用传送\")])])],1)}),[],!1,null,null,null);a.default=v.exports}}]);","extractedComments":[]}