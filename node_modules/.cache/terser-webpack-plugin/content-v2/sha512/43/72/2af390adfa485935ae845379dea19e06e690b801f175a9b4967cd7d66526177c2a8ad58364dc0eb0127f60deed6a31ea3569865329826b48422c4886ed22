{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[268],{865:function(t,e,a){\"use strict\";a.r(e);var r=a(12),v=Object(r.a)({},(function(){var t=this,e=t._self._c;return e(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[e(\"h2\",{attrs:{id:\"接入前提\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#接入前提\"}},[t._v(\"#\")]),t._v(\" 接入前提\")]),t._v(\" \"),e(\"p\",[t._v(\"需要接入下列其中一种模式，以便于完成支付和信用卡绑定流程\\n\"),e(\"br\"),t._v(\" \"),e(\"a\",{attrs:{href:\"/pages/f90dfd/\",target:\"_blank\"}},[t._v(\"Hosted\")]),t._v(\" \"),e(\"br\"),t._v(\" \"),e(\"a\",{attrs:{href:\"/pages/6c7fd1/\",target:\"_blank\"}},[t._v(\"Non-hosted\")])]),t._v(\" \"),e(\"h2\",{attrs:{id:\"关键参数\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#关键参数\"}},[t._v(\"#\")]),t._v(\" 关键参数\")]),t._v(\" \"),e(\"table\",[e(\"thead\",[e(\"tr\",[e(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"参数字段\")]),t._v(\" \"),e(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"参数类型\")]),t._v(\" \"),e(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"参数属性\")]),t._v(\" \"),e(\"th\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"参数说明\")])])]),t._v(\" \"),e(\"tbody\",[e(\"tr\",[e(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"bizType\")]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"String(64)\")]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"C\")]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"绑卡并交易或绑卡需要验证卡号的情况传固定值 \"),e(\"code\",[t._v(\"CardOnFile\")]),t._v(\"，否则不传(使用这个值请联系技术支持)\")])]),t._v(\" \"),e(\"tr\",[e(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"merchantUserId\")]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"String(64)\")]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"M\")]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"商户网站的持卡人 ID，全局唯一，游客模式或不存在的情况传\"),e(\"code\",[t._v(\"null\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"createToken\")]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"String(1)\")]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"M\")]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"left\"}},[e(\"code\",[t._v(\"Y\")]),t._v(\"/\"),e(\"code\",[t._v(\"N\")]),t._v(\",是否创建token\")])]),t._v(\" \"),e(\"tr\",[e(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"token\")]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"String(16)\")]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"M\")]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"left\"}},[t._v(\"卡信息代币\")])])])]),t._v(\" \"),e(\"h2\",{attrs:{id:\"交互流程\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#交互流程\"}},[t._v(\"#\")]),t._v(\" 交互流程\")]),t._v(\" \"),e(\"h3\",{attrs:{id:\"步骤一-创建card-token\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#步骤一-创建card-token\"}},[t._v(\"#\")]),t._v(\" 步骤一：创建card token\")]),t._v(\" \"),e(\"br\"),t._v(\" \"),e(\"div\",{staticStyle:{\"justify-content\":\"space-between\",display:\"flex\"}},[e(\"el-card\",{staticStyle:{\"max-width\":\"400px\",background:\"none\",color:\"var(--textColor)\",\"border-color\":\"var(--borderColor)\"}},[e(\"div\",{staticClass:\"clearfix\",attrs:{slot:\"header\"},slot:\"header\"},[e(\"a\",{attrs:{href:\"/pages/abc0f1\",target:\"_blank\"}},[t._v(\"Hosted接入模式\")])]),t._v(\" \"),e(\"div\",[e(\"span\",{staticStyle:{display:\"block\"}},[t._v(\"关联API:\")]),t._v(\" \"),e(\"a\",{attrs:{href:\"/pages/617443/\",target:\"_blank\"}},[t._v(\"Hosted-JS-SDK\")]),t._v(\"或\"),e(\"a\",{attrs:{href:\"/pages/c2df15/\",target:\"_blank\"}},[t._v(\"获取跳转收银台\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"收银台模式下，将通过⻚面勾选框来决定createToken 是否为\"),e(\"Badge\",{attrs:{text:\"Y\",vertical:\"middle\"}}),t._v(\" ，无需接口上送。\")],1),t._v(\" \"),e(\"li\",[t._v(\"商户需要传送\"),e(\"Badge\",{attrs:{text:\"merchantUserId\",vertical:\"middle\"}}),t._v(\"，来标识当前持卡人身份。\")],1),t._v(\" \"),e(\"li\",[t._v(\"PingPongCheckout 根据商户上送的merchantUserId匹配token，无需商户上传\")])])])]),t._v(\" \"),e(\"el-card\",{staticStyle:{\"max-width\":\"400px\",background:\"none\",color:\"var(--textColor)\",\"border-color\":\"var(--borderColor)\"}},[e(\"div\",{staticClass:\"clearfix\",attrs:{slot:\"header\"},slot:\"header\"},[e(\"a\",{attrs:{href:\"/pages/14d81d\",target:\"_blank\"}},[t._v(\"Non-Hosted接入模式\")])]),t._v(\" \"),e(\"div\",[e(\"span\",{staticStyle:{display:\"block\"}},[t._v(\"关联API:\")]),t._v(\" \"),e(\"a\",{attrs:{href:\"/pages/a2c224/\",target:\"_blank\"}},[t._v(\"下单并支付\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"上送参数\"),e(\"Badge\",{attrs:{text:\"createToken=Y\",vertical:\"middle\"}}),t._v(\"。\")],1),t._v(\" \"),e(\"li\",[t._v(\"上送参数\"),e(\"Badge\",{attrs:{text:\"customer.customerId\",vertical:\"middle\"}}),t._v(\"，来标识当前持卡人身份。\")],1),t._v(\" \"),e(\"li\",[t._v(\"上送参数\"),e(\"Badge\",{attrs:{text:\"bizType=CardOnFile(可选)\",vertical:\"middle\"}}),t._v(\"，进行卡校验。\")],1)])])])],1),t._v(\" \"),e(\"h3\",{attrs:{id:\"步骤二-校验卡的要素-可选\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#步骤二-校验卡的要素-可选\"}},[t._v(\"#\")]),t._v(\" 步骤二：校验卡的要素（可选）\")]),t._v(\" \"),e(\"p\",[t._v(\"如果您想校验卡的有效性，或者需要同时进行绑卡和支付过程（传入的amount>0）,必须设置\"),e(\"code\",[t._v(\"bizType=CardOnFile\")]),t._v(\"。\")]),t._v(\" \"),e(\"h3\",{attrs:{id:\"步骤三-展示卡列表-可选\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#步骤三-展示卡列表-可选\"}},[t._v(\"#\")]),t._v(\" 步骤三：展示卡列表（可选）\")]),t._v(\" \"),e(\"p\",[t._v(\"同一个用户可能存在多张信用卡，为了优化支付体验，我们需要了列出指定customerId下的卡列表（只展示卡号前6后4）供支持卡人选择。\")]),t._v(\" \"),e(\"h4\",{attrs:{id:\"hosted\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#hosted\"}},[t._v(\"#\")]),t._v(\" Hosted\")]),t._v(\" \"),e(\"p\",[t._v(\"PingPongCheckout收银台提供展示卡列表的接口，无需商户集成。\")]),t._v(\" \"),e(\"h4\",{attrs:{id:\"non-hosted\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#non-hosted\"}},[t._v(\"#\")]),t._v(\" Non-Hosted\")]),t._v(\" \"),e(\"p\",[t._v(\"这个步骤由商户端完成，商户可以自行记录卡和token的关系列表， 也可以调用PingPongCheckout的卡列表接口。\")]),t._v(\" \"),e(\"h3\",{attrs:{id:\"步骤四-使用card-token支付\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#步骤四-使用card-token支付\"}},[t._v(\"#\")]),t._v(\" 步骤四：使用card token支付\")]),t._v(\" \"),e(\"div\",[e(\"img\",{attrs:{src:t.$withBase(\"/v4/tokenization/tokenPay.png\")}})]),t._v(\" \"),e(\"el-card\",{staticStyle:{background:\"none\",color:\"var(--textColor)\",\"border-color\":\"var(--borderColor)\"}},[e(\"div\",{attrs:{slot:\"header\"},slot:\"header\"},[e(\"h4\",[t._v(\"以下对主要步骤做简要说明\")])]),t._v(\" \"),e(\"ol\",[e(\"li\",[t._v(\"客户端下单\")]),t._v(\" \"),e(\"li\",[t._v(\"\\n    商户服务端请求\"),e(\"a\",{attrs:{href:\"/pages/a2c224/\",target:\"_blank\"}},[t._v(\"下单并支付\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"传入\"),e(\"code\",[t._v(\"token\")])]),t._v(\" \"),e(\"li\",[t._v(\"如果创建token时候传入了\"),e(\"code\",[t._v(\"bizType=CardOnFile\")]),t._v(\"，那么后续使用token交易时候每一笔都需要传送\")])])]),t._v(\" \"),e(\"li\",[e(\"a\",{attrs:{href:\"/pages/a2c224/\",target:\"_blank\"}},[t._v(\"下单并支付\")]),t._v(\" API 同步响应支付结果\")]),t._v(\" \"),e(\"li\",[t._v(\"\\n异步通知推送最终结果,如何获取异步通知报文详见\"),e(\"a\",{attrs:{href:\"/pages/d0ddb3/\",target:\"_blank\"}},[t._v(\"异步通知\")])])])])],1)}),[],!1,null,null,null);e.default=v.exports}}]);","extractedComments":[]}